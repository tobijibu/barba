<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>How it works | Barba - にほんご。</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta property="og:title" content="How it works | Barba - にほんご。"><meta property="og:url"><meta property="og:type" content="article"><link rel="icon" href="https://tr.you84815.space/barba/favicon.ico"><link rel="stylesheet" href="./css/main.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-106478577-1', 'auto');</script></head><body><div id="container"><header><div class="icon"><a class="no-barba" href="https://tr.you84815.space/"><svg width="16" height="16"><rect width="16" height="16" fill="#e0e0e0"></rect></svg></a></div><div class="navi_toggle" onclick="toggleMenu()"><svg id="menu_close" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg><svg id="menu_open" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></div><div class="title">Barba - <a class="no-barba" href="https://tr.you84815.space/">にほんご。</a></div></header><div class="navi" id="navi"><ul class="menu"><li><a class="index" href="./index.html">Home</a></li><li><a href="./introduction.html">Introduction</a></li><li><a class="active" href="./how-it-works.html">How it works</a></li><li><a href="./installation.html">Installation</a></li><li><a href="./transition.html">Transition</a></li><li><a href="./events.html">Events</a></li><li><a href="./views.html">Views</a></li><li><a href="./cache.html">Cache</a></li><li><a href="./prefetch.html">Prefetch</a></li><li><a href="./partial-output.html">Partial Output</a></li><li><span onclick="toggleApi()">API</span><ul class="hidden" id="navi_api"><li><a href="./api/base-cache.html">BaseCache</a></li><li><a href="./api/base-transition.html">BaseTransition</a></li><li><a href="./api/base-view.html">BaseView</a></li><li><a href="./api/dispatcher.html">Dispatcher</a></li><li><a href="./api/history-manager.html">HistoryManager</a></li><li><a href="./api/pjax.html">Pjax</a></li><li><a href="./api/pjax-dom.html">Pjax.Dom</a></li><li><a href="./api/prefetch.html">Prefetch</a></li><li><a href="./api/utils.html">Utils</a></li></ul></li><li><span onclick="toggleDemos()">Demos</span><ul class="hidden" id="navi_demos"><li><a class="external-link" href="http://barbajs.org/demo/grid/index.html" target="_blank" rel="noopener noreferrer">official - Grid</a></li><li><a class="external-link" href="http://barbajs.org/demo/nextprev/index.html" target="_blank" rel="noopener noreferrer">official - Next/Prev</a></li><li><a class="external-link" href="http://barbajs.org/demo/nextprev-circle/index.html" target="_blank" rel="noopener noreferrer">official - Circles</a></li><li><a href="./demo/basic/1.html" target="_blank" rel="noopener noreferrer">Basic</a></li><li><a href="./demo/hide-show/1.html" target="_blank" rel="noopener noreferrer">HideShow</a></li><li><a href="./demo/fade/1.html" target="_blank" rel="noopener noreferrer">Fadein/out</a></li><li><a href="./demo/event/1.html" target="_blank" rel="noopener noreferrer">Event</a></li><li><a href="./demo/view/1.html" target="_blank" rel="noopener noreferrer">View</a></li><li><a href="./demo/cache/1.html" target="_blank" rel="noopener noreferrer">Cache</a></li><li><a href="./demo/prefetch/1.html" target="_blank" rel="noopener noreferrer">Prefetch</a></li><li><a href="./demo/partial-output/1.html" target="_blank" rel="noopener noreferrer">Partial Output</a></li><li><a href="./demo/no-barba/1.html" target="_blank" rel="noopener noreferrer">No Barba</a></li></ul></li><li><a href="./faq.html">FAQ</a></li><li><a href="./various.html">Various</a></li><li class="cls" style="font-size:.8em"><a class="external-link" href="https://github.com/luruke/barba.js" target="_blank" rel="noopener noreferrer">Github</a></li><li class="cls" style="font-size:.8em"><a class="external-link" href="https://twitter.com/luruke" target="_blank" rel="noopener noreferrer">@luruke</a></li></ul></div><div id="content"><div id="main"><div id="barba-wrapper"><div class="barba-container"><h1>How it works</h1><div id="update_date"><span>更新日: 2018.06.14
</span></div><h2>動作について</h2><p>barba.jsはPJAX(pushState AJAX)を使い、UX(ユーザーエクスペリエンス)を向上させます。</p><p>PJAXは普段のリンクの動きを防ぎ、
手動でURLを変更し、手動でコンテンツを新しいコンテンツに入れ替えます。
このようにブラウザでの「ハードリフレッシュ」は発生しません。</p><p>リンクをクリックした時に発生する処理の流れは以下の通りです。</p><ul class="num"><li> リンクが正しく、PJAXが適切かどうかをチェックします。
正常なら通常のリンクの動作を差し止めます。</li><li><a href="https://developer.mozilla.org/ja/docs/Web/Guide/DOM/Manipulating_the_browser_history#The_pushState()_method" target="_blank" rel="noopener noreferrer">pushStateAPI</a>を使ってURLを変更します。</li><li>XMLHttpRequest経由で新しいページを取得します。</li><li>新しい<a class="no-barba" href="./transition.html">transition</a>インスタンスを生成します。</li><li>新しいページがロードされたら、barba.jsはHTMLをパースします。
(<code>.barba-container</code>を取得します。)<br>そして、取得したコンテンツを<code>#barba-wrapper</code>に設置します。</li><li><a class="no-barba" href="./transition.html">transition</a>インスタンスは古いコンテナを隠し、
新しいコンテナを表示します。</li><li>遷移が完了したら、DOMから古いコンテナを削除します。</li></ul><p>barba.jsの仕組みをより深く理解するために、以前Smashing Magazineに投稿した<a href="https://www.smashingmagazine.com/2016/07/improving-user-flow-through-page-transitions/" target="_blank" rel="noopener noreferrer">こちらの記事</a>を読むことをお勧めします。</p><blockquote>注意：サーバは正常にページを配信する必要があります。<br>barba.jsはサイトをより良くするだけです。
たとえJavaScript動かなかったとしても正常に動作させるべきです。</blockquote><h2>何故PJAXを使うのか</h2><p>PJAXには多くの利点があります。</p><ul><li>ページ遷移をより良くすることでUXが向上する可能性があります。</li><li>HTTPリクエストを減らします。(なぜページ遷移のたびにCSS/JSのリロードするのでしょう？)</li><li><a class="no-barba" href="./prefetch.html">prefetch</a>と<a class="no-barba" href="./cache.html">cache</a>を使って
ページ巡回を高速化できる可能性があります。</li></ul><br><br><div class="license"><p>&copy; 2016
 Luigi De Rosa Released under the <a href="https://github.com/luruke/barba.js/blob/master/LICENSE">MIT license</a></p><p>このコンテンツはLuigi De Rosa(luruke)による<a href="http://barbajs.org/">Barbaドキュメント</a>を翻訳/改変したものです。<br></p></div></div></div></div></div><footer><span> &copy; <span id="copy_year">2017</span> tobijibu</span></footer></div><noscript id="deferred-styles"><link href="./css/lazy.css" rel="stylesheet"></noscript><script src="./js/main.js" defer></script><div id="src" hidden></div></body></html>